- name: discovery
  input: |
    // First comment
    Enclosure.Discovery.Source(1).Compute(1).Type="Awk"
    Enclosure.Discovery.Source(1).Compute(1).AwkScript="script1"
    Enclosure.Discovery.Source(1).Compute(1).KeepOnlyRegExp="keep1"
    Enclosure.Discovery.Source(1).Compute(1).ExcludeRegExp="exclude1"
    Enclosure.Discovery.Source(1).Compute(1).Separators="separator1"
    Enclosure.Discovery.Source(1).Compute(1).SelectColumns="1"
    
    // Second comment
    Enclosure.Discovery.Source(1).Compute(2).Type="Awk"
    Enclosure.Discovery.Source(1).Compute(2).AwkScript="script2"
    Enclosure.Discovery.Source(1).Compute(2).KeepOnlyRegExp="keep2"
    Enclosure.Discovery.Source(1).Compute(2).ExcludeRegExp="exclude2"
    Enclosure.Discovery.Source(1).Compute(2).Separators="separator2"
    Enclosure.Discovery.Source(1).Compute(2).SelectColumns="2"
  expected:
    monitors:
      enclosure:
        discovery:
          sources:
            source(1):
              computes:
                - _comment: First comment
                  type: awk
                  script: script1
                  keep: keep1
                  exclude: exclude1
                  separators: separator1
                  selectColumns: "1"
                - _comment: Second comment
                  type: awk
                  script: script2
                  keep: keep2
                  exclude: exclude2
                  separators: separator2
                  selectColumns: "2"
- name: collect
  input: |
    // First comment
    Enclosure.Collect.Source(1).Compute(1).Type="Awk"
    Enclosure.Collect.Source(1).Compute(1).AwkScript="script1"
    Enclosure.Collect.Source(1).Compute(1).KeepOnlyRegExp="keep1"
    Enclosure.Collect.Source(1).Compute(1).ExcludeRegExp="exclude1"
    Enclosure.Collect.Source(1).Compute(1).Separators="separator1"
    Enclosure.Collect.Source(1).Compute(1).SelectColumns="1"
    
    // Second comment
    Enclosure.Collect.Source(1).Compute(2).Type="Awk"
    Enclosure.Collect.Source(1).Compute(2).AwkScript="script2"
    Enclosure.Collect.Source(1).Compute(2).KeepOnlyRegExp="keep2"
    Enclosure.Collect.Source(1).Compute(2).ExcludeRegExp="exclude2"
    Enclosure.Collect.Source(1).Compute(2).Separators="separator2"
    Enclosure.Collect.Source(1).Compute(2).SelectColumns="2"
  expected:
    monitors:
      enclosure:
        collect:
          sources:
            source(1):
              computes:
                - _comment: First comment
                  type: awk
                  script: script1
                  keep: keep1
                  exclude: exclude1
                  separators: separator1
                  selectColumns: "1"
                - _comment: Second comment
                  type: awk
                  script: script2
                  keep: keep2
                  exclude: exclude2
                  separators: separator2
                  selectColumns: "2"