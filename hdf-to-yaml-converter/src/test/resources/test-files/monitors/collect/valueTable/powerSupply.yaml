- name: powerSupplyValueTable
  input: |
    // DeviceID;Status;StatusInformation;Utilization
    PowerSupply.Collect.ValueTable=%PowerSupply.Collect.Source(1)%
    PowerSupply.Collect.DeviceID=ValueTable.Column(1)
    PowerSupply.Collect.Status=ValueTable.Column(2)
    PowerSupply.Collect.StatusInformation=ValueTable.Column(3)
    PowerSupply.Collect.UsedPercent=ValueTable.Column(4)
  expected:
    monitors:
      power_supply:
        collect:
          _comment: DeviceID;Status;StatusInformation;Utilization
          mapping:
            legacyTextParameters:
              StatusInformation: $column(3)
            deviceId: $column(1)
            source: $monitors.power_supply.collect.sources.source(1)$
            metrics:
              hw.status{hw.type="power_supply"}: $column(2)
              hw.power_supply.utilization: percent2Ratio($column(4))
- name: powerSupplyUsedWattsValueTable
  input: |
    // DeviceID;Status;StatusInformation;UsedWatts
    PowerSupply.Collect.ValueTable=%PowerSupply.Collect.Source(1)%
    PowerSupply.Collect.DeviceID=ValueTable.Column(1)
    PowerSupply.Collect.Status=ValueTable.Column(2)
    PowerSupply.Collect.StatusInformation=ValueTable.Column(3)
    PowerSupply.Collect.UsedWatts=ValueTable.Column(4)
  expected:
    monitors:
      power_supply:
        collect:
          _comment: DeviceID;Status;StatusInformation;UsedWatts
          mapping:
            legacyTextParameters:
              StatusInformation: $column(3)
            deviceId: $column(1)
            source: $monitors.power_supply.collect.sources.source(1)$
            metrics:
              hw.status{hw.type="power_supply"}: $column(2)
              hw.power_supply.power: $column(4)
              hw.power_supply.utilization: legacyPowerSupplyUtilization($column(4))