- name: physicalDiskValueTable
  input: |
    // DeviceID;Status;StatusInformation;PredictedFailure;Errors;Endurance
    PhysicalDisk.Collect.ValueTable=%PhysicalDisk.Collect.Source(1)%
    PhysicalDisk.Collect.DeviceID=ValueTable.Column(1)
    PhysicalDisk.Collect.Status=ValueTable.Column(2)
    PhysicalDisk.Collect.StatusInformation=ValueTable.Column(3)
    PhysicalDisk.Collect.PredictedFailure=ValueTable.Column(4)
    PhysicalDisk.Collect.ErrorCount=ValueTable.Column(5)
    PhysicalDisk.Collect.TransportErrorCount=ValueTable.Column(6)
    PhysicalDisk.Collect.IllegalRequestErrorCount=ValueTable.Column(7)
    PhysicalDisk.Collect.NoDeviceErrorCount=ValueTable.Column(8)
    PhysicalDisk.Collect.DeviceNotReadyErrorCount=ValueTable.Column(9)
    PhysicalDisk.Collect.RecoverableErrorCount=ValueTable.Column(10)
    PhysicalDisk.Collect.HardErrorCount=ValueTable.Column(11)
    PhysicalDisk.Collect.MediaErrorCount=ValueTable.Column(12)
    PhysicalDisk.Collect.EnduranceRemaining=ValueTable.Column(13)
  expected:
    monitors:
      physical_disk:
        collect:
          mapping:
            _comment: DeviceID;Status;StatusInformation;PredictedFailure;Errors;Endurance
            source: ${source::monitors.physical_disk.collect.sources.source(1)}
            deviceId: $1
            metrics:
              hw.status{hw.type="physical_disk"}: $2
              hw.status{hw.type="physical_disk", state="predicted_failure"}: boolean($4)
              hw.errors{hw.type="physical_disk", hw.error.type="transport"}: $6
              hw.errors{hw.type="physical_disk", hw.error.type="illegal_request"}: $7
              hw.errors{hw.type="physical_disk", hw.error.type="no_device"}: $8
              hw.errors{hw.type="physical_disk", hw.error.type="device_not_ready"}: $9
              hw.errors{hw.type="physical_disk", hw.error.type="recoverable"}: $10
              hw.errors{hw.type="physical_disk", hw.error.type="hard"}: $11
              hw.errors{hw.type="physical_disk", hw.error.type="media"}: $12
              hw.physical_disk.endurance_utilization{state="remaining"}: percent2Ratio($13)
              hw.errors{hw.type="physical_disk"}: $5
            legacyTextParameters:
              StatusInformation: $3