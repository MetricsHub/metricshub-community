- name: getEmbeddedFilesTest
  input: |
    
    EmbeddedFile(1):
    Embedded
    File
    Test
    EmbeddedFile(1).End
  expected:
    embedded:
      EmbeddedFile(1): |-
        Embedded
        File
        Test
- name: testManyEmbeddedFiles
  input: |
    
    EmbeddedFile(1):
    First
    Embedded
    File
    Test
    EmbeddedFile(1).End
    
    EmbeddedFile(2):
    Second
    Embedded
    File
    Test
    EmbeddedFile(2).End
  expected:
    embedded:
      EmbeddedFile(1): |-
        First
        Embedded
        File
        Test
      EmbeddedFile(2): |-
        Second
        Embedded
        File
        Test
- name: getTranslationTables
  input: |
    TranslationTable(0)="OK"
    TranslationTable(1)="WARN"
    TranslationTable(2)="ALARM"
  expected:
    translations:
      TranslationTable:
        0: ok
        1: degraded
        2: failed

- name: testManyTranslationTables
  input: |
    OtherDevice.Discovery.Source(2).Compute(1).TranslationTable="FirstTranslationTable"
    FirstTranslationTable("Result="OK"")="ok"
    FirstTranslationTable(1)="degraded"
    FirstTranslationTable(2)="failed"
    SecondTranslationTable(0)="ok"
    SecondTranslationTable(1)="degraded"
    SecondTranslationTable(2)="failed"
  expected:
    translations:
      FirstTranslationTable:
        "Result=\"OK\"": ok
        1: degraded
        2: failed
      SecondTranslationTable:
        0: ok
        1: degraded
        2: failed
- name: testConstantsConversion
  input: |
     #define Discovery_source %NetworkCard.Discovery.Source(1)%
     #define Collect_source %NetworkCard.Collect.Source(1)%
  expected:
    constants:
     Collect_source: $monitors.network.collect.sources.source(1)$
     Discovery_source: $monitors.network.discovery.sources.source(1)$