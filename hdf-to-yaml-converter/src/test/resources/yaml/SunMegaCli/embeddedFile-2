BEGIN {
    controllerID="" ; enclosureID=""; location=""; type="";size="";status="";statusinformation="";deviceID="";
}

$1 ~ /^[Aa]dapter$/ && $2 ~ /#[0-9]+/ {controllerID = $2}

$1 ~ /^[Ee]nclosure$/ && $2 ~ /^[Dd]evice/ && $3 ~ /[Ii][Dd]/ {enclosureID = $NF}
$1 ~ /^[Ss]lot$/ && $2 ~ /^[Nn]umber/ {deviceID = (controllerID"["enclosureID":"$NF"]");
                                         location = ("Adapter " controllerID " - Enclosure " enclosureID " - Slot "$NF)
                                        }

$1 ~ /^[Pp][Dd]$/ && $2 ~ /^[Tt]ype/  {type = $NF}

$1 ~ /^[Rr]aw$/ && $2 ~ /^[Ss]ize/ && $4 ~ /[TtGgMm][Bb]/ {size = $3 ;
                                                             if ($4 ~ /[Mm][Bb]/) {size = size / 1024};
                                                           if ($4 ~ /[Tt][Bb]/) {size = size * 1024};
                                                          }

$1 ~ /^[Ff]irmware$/ && $2 ~ /^[Ss]tate/ {colonIndex = index($0, ":") ;
                                           status = $3 ; gsub (/,/,"",status);
                                         statusinformation = substr($0, colonIndex + 2) ;
                                         }

$1 ~ /^[Ii]nquiry$/ && $2 ~ /^[Dd]ata/ && controllerID != "" && deviceID != "" {colonIndex = index($0, ":") ;
                                           model = substr($0, colonIndex + 2) ;
                                           gsub(/  +/," ",model) ;
                                         print ("MSHW;"controllerID";"location";"type";"size";"model";"status";"statusinformation";"deviceID";");
                                         enclosureID=""; location=""; type="";size="";status="";statusinformation="";deviceID="";
                                        }