BEGIN { FS = ";"; powerConsumption=0;outletPowerSum=0;inletPower=0}


# MSHW; inletPowerConsumption; MSHW; outletPowerConsumption;
# Populate inlet power consumption and the sum of all outlet power consumption

{inletPower = $2;}
{outletPowerSum += $4;}

# Calculate the overall power consumption (inlet - sum of outlets)

END {
  powerConsumption = inletPower - outletPowerSum;
}

# Print empty string if no outlet power consumption or difference if we have power consumption

END {
  if (outletPowerSum == 0)
    print "MSHW;;"
  else
    print "MSHW;" + powerConsumption + ";";
}
