BEGIN {FS=";"}
{
    truncateName=$(NF-1)

    if ($1=="Enclosure" || $1=="Blade" || $1=="PhysicalDisk")
        gsub("/[^/]+$","",truncateName);

    if ($1=="Fan")
        gsub("^[^/]+/[^/]+/","",truncateName);

    if ($1=="CPU" || $1=="DiskController")
        gsub("/[^/]+/[^/]+$","",truncateName);

    if ($1=="Memory" || $1=="Battery")
        gsub("/[^/]+/[^/]+/[^/]+$","",truncateName);

    print "MSHW;"$0 truncateName
}