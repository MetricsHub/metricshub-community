---
extends:
- ../EMCIsilon-header/EMCIsilon-header
constants:
  _IsiDevicesCommand: /usr/bin/isi devices
  _IsiDrivesCommand: /usr/bin/isi devices
  _IsiNetworkCommand: /usr/bin/isi networks list interfaces --verbose --wide --show-inactive
  _IsiBatteryCommand: /usr/bin/isi batterystatus
  _IsiStatusCommand: /usr/bin/isi status -w
connector:
  displayName: EMC Isilon (SSH)
  platforms: EMC Isilon
  reliesOn: EMC Isilon SSH interface
  version: 1.0
  information: This connector discovers the status of an EMC Isilon Storage Cluster
  detection:
    connectionTypes:
    - remote
    - local
    appliesTo:
    - Storage
    criteria:
    # Check that sudo is working by running /usr/bin/isi status -w
    - type: osCommand
      commandLine: "/bin/zsh -c \"%{SUDO:/usr/bin/isi_for_array} /usr/bin/isi_for_array /usr/bin/isi status -w\" "
      errorMessage: Unable to run /usr/bin/isi status -w.  Check rights / sudo status.
      expectedResult: 'Cluster Name:'
