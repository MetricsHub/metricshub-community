($0 ~ "^rmt/[0-9]") {
    tapeID = $1
    softerror = 0
    harderror = 0
    transporterror = 0
    totalerror = 0
}

($2 == "Soft" && $3 == "Errors:") {
    softerror = $4
}

($5 == "Hard" && $6 == "Errors:") {
    harderror = $7
}

($8 == "Transport" && $9 == "Errors:") {
    transporterror = $10
}

($0 ~ /Serial No:/) {
    totalerror = transporterror + harderror

    if (tapeID != "")
    {
        print "MSHW;" tapeID ";" totalerror
    }

    tapeID = ""
    softerror = 0
    harderror = 0
    transporterror = 0
    totalerror = 0
}