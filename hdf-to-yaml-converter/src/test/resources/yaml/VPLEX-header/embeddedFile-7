BEGIN {FS=";";}
{ID = $1; gsub(/.*context./,"",ID); gsub(/..attributes.*$/,"",ID);}
$2 ~ /^name/  {
    Name[ID] = $3 ;
    split($4,outputarray,"/")
    Parent[ID]=outputarray[3]
    }
$2 ~ /^operational-status/ && Name[ID] != 0 { Status[ID] = $3 ; }
$2 ~ /^part-number/ && Name[ID] != 0  { PartNumber[ID] = $3 ;  }
$2 ~ /^serial-number/ && Name[ID] != 0 { SerialNumber[ID] = $3 ; }

END{
for ( ID in Name) {
    print "MSHW;" Name[ID] ";" Status[ID] ";" PartNumber[ID] ";" SerialNumber[ID] ";" Parent[ID] ";"
    }
}