$1 ~ /[0-9]+:/ && $2 ~ /[Ii][Dd]/ {
    DeviceID = $1 ;DeviceID = $1 ; gsub (/:/,"",DeviceID) ;
    DisplayID[DeviceID] = $NF
    }

$1 ~ /[Hh]ealth/ && $2 ~ /[Ss]tate/ { HealthValue[DeviceID] = $NF ; gsub(/[()]/,"",HealthValue[DeviceID]) }

$1 ~ /[Ss]peed/ && $2 ~ /=/ {
      Speed[DeviceID] = $3 ;
      if ($NF ~ /[Gg][Bb]/) {Speed[DeviceID] = Speed[DeviceID] * 1000}
      Link[DeviceID] = "WARN"
      if ( Speed[DeviceID] > 0 ) { Link[DeviceID] = "OK" }
      }

END { for (DeviceID in DisplayID) {
           if (DeviceID != "") {
             print "MSHW;" DeviceID ";" DisplayID[DeviceID] ";" HealthValue[DeviceID] ";" Link[DeviceID] ";"
        }
        }
      }