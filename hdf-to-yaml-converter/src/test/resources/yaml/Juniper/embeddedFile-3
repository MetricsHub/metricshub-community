BEGIN { FS="[;]" ; BladeSystem = 0 }
# The Blade Table should appear first, see if there are any blade chassis (LCCs)
# $10 is the bladeID
$1 ~ /MSHW/ {
  bladeID = $10
  if (bladeID ~ "LCC") { BladeSystem = 1 }
  bladeArray[bladeID]="Known"
  }
$1 ~ /^[0-9]*$/ {
  attachToID = $2 ;
  if ( attachToID ~ "/.*/" ) {
    gsub(/.*-/,"",attachToID)
      gsub("/.*","",attachToID)
    if ( BladeSystem == 1 ) {
      if ( attachToID < 16 ) { attachToID = "LCC0-" attachToID}
      else if ( attachToID < 32 ) { attachToID = attachToID - 16 ; attachToID = "LCC1-" attachToID }
    # I've added LCC2 and LCC3 although no examples of such systems have been found
      else if ( attachToID < 48 ) { attachToID = attachToID - 32 ; attachToID = "LCC2-" attachToID }
      else if ( attachToID < 64 ) { attachToID = attachToID - 48 ; attachToID = "LCC3-" attachToID }
      }
# If the BladeID is Known attach to Blade
    if ( bladeArray[attachToID] == "Known" ) { attachToType = "Blade" }
    else {
      attachToID = "Global"
        attachToType = "Enclosure"
      }
# If not attach it to Global
    }
  else {
    attachToID = "Global"
      attachToType = "Enclosure"
    }
  print $0  attachToID ";"  attachToType ";"
  }