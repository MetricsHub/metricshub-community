//
//
//    H a r d w a r e   D e f i n i t i o n   F i l e
//
//                       f o r
//
//                 Hardware Sentry
//
//                 by Sentry Software (c)
//
//               MS_HW_MylexController.hdf
//
//      Supports: Mylex disk controllers (through the Mylex GAM SNMP sub-agent)
//
//

// HEADER

hdf.DisplayName="LSI/Mylex GAM Server"
hdf.TypicalPlatform="Fujitsu-Siemens PRIMERGY"
hdf.ReliesOn="Mylex GAM Server"
hdf.Version="1.0"
hdf.Comments="This connector provides disk monitoring through the Mylex SNMP sub-agent which supports all Mylex disk controllers."
hdf.RemoteSupport="true"
hdf.AppliesToOS="NT,Linux"

// DETECTION

Detection.Criteria(1).Type="SNMP"
Detection.Criteria(1).SnmpGetNext="1.3.6.1.4.1.1608.1.1.1"


// DISK CONTROLLERS

DiskController.Discovery.Source(1).Type="SnmpTable"
DiskController.Discovery.Source(1).SnmpTableOid="1.3.6.1.4.1.1608.1.1.1.2.1"
DiskController.Discovery.Source(1).SnmpTableSelectColumns="ID,1,2,3,20"
DiskController.Discovery.Source(1).Compute(1).Type="KeepOnlyMatchingLines"
DiskController.Discovery.Source(1).Compute(1).Column="3"
DiskController.Discovery.Source(1).Compute(1).ValueList="1,2"

DiskController.Discovery.Source(1).Compute(2).Type="Translate"
DiskController.Discovery.Source(1).Compute(2).Column="5"
DiskController.Discovery.Source(1).Compute(2).TranslationTable="MylexControllerTranslationTable"

DiskController.Discovery.InstanceTable=%DiskController.Discovery.Source(1)%
DiskController.Discovery.Instance.DeviceID=InstanceTable.Column(1)
DiskController.Discovery.Instance.ControllerNumber=InstanceTable.Column(2)
DiskController.Discovery.Instance.Vendor="Mylex"
DiskController.Discovery.Instance.Model=InstanceTable.Column(5)
DiskController.Discovery.Instance.FirmwareVersion=InstanceTable.Column(4)


// PHYSICAL DISKS

PhysicalDisk.Discovery.Source(1).Type="SnmpTable"
PhysicalDisk.Discovery.Source(1).SnmpTableOid="1.3.6.1.4.1.1608.1.1.1.4.1"
PhysicalDisk.Discovery.Source(1).SnmpTableSelectColumns="ID,1,6,9,10"
PhysicalDisk.Discovery.Source(1).Compute(1).Type="KeepOnlyMatchingLines"
PhysicalDisk.Discovery.Source(1).Compute(1).Column="5"
PhysicalDisk.Discovery.Source(1).Compute(1).ValueList="0"
PhysicalDisk.Discovery.Source(1).Compute(2).Type="Multiply"
PhysicalDisk.Discovery.Source(1).Compute(2).Column="4"
PhysicalDisk.Discovery.Source(1).Compute(2).MultiplyBy="1048576"

PhysicalDisk.Discovery.InstanceTable=%PhysicalDisk.Discovery.Source(1)%
PhysicalDisk.Discovery.Instance.DeviceID=InstanceTable.Column(1)
PhysicalDisk.Discovery.Instance.Vendor=InstanceTable.Column(3)
PhysicalDisk.Discovery.Instance.Size=InstanceTable.Column(4)
PhysicalDisk.Discovery.Instance.ControllerNumber=InstanceTable.Column(2)

PhysicalDisk.Collect.Type="MonoInstance"
PhysicalDisk.Collect.Source(1).Type="SnmpGet"
PhysicalDisk.Collect.Source(1).SnmpOid="1.3.6.1.4.1.1608.1.1.1.4.1.5.%PhysicalDisk.Collect.DeviceID%"
PhysicalDisk.Collect.Source(1).Compute(1).Type="DuplicateColumn"
PhysicalDisk.Collect.Source(1).Compute(1).Column="1"
PhysicalDisk.Collect.Source(1).Compute(2).Type="DuplicateColumn"
PhysicalDisk.Collect.Source(1).Compute(2).Column="1"

PhysicalDisk.Collect.Source(1).Compute(3).Type="Translate"
PhysicalDisk.Collect.Source(1).Compute(3).Column="2"
PhysicalDisk.Collect.Source(1).Compute(3).TranslationTable="PhysicalDiskStatusTranslationTable"

PhysicalDisk.Collect.Source(1).Compute(4).Type="Translate"
PhysicalDisk.Collect.Source(1).Compute(4).Column="3"
PhysicalDisk.Collect.Source(1).Compute(4).TranslationTable="PhysicalDiskStatusInformationTranslationTable"

PhysicalDisk.Collect.ValueTable=%PhysicalDisk.Collect.Source(1)%
PhysicalDisk.Collect.Status=ValueTable.Column(2)
PhysicalDisk.Collect.StatusInformation=ValueTable.Column(3)

PhysicalDiskStatusTranslationTable(0)="ALARM"
PhysicalDiskStatusTranslationTable(2)="WARN"
PhysicalDiskStatusTranslationTable(3)="OK"
PhysicalDiskStatusTranslationTable(4)="OK"
PhysicalDiskStatusTranslationTable(5)="OK"
PhysicalDiskStatusTranslationTable(6)="WARN"
PhysicalDiskStatusTranslationTable(16)="OK"
PhysicalDiskStatusTranslationTable(130)="WARN"
PhysicalDiskStatusTranslationTable(Default)="UNKNOWN"

PhysicalDiskStatusInformationTranslationTable(0)="Dead"
PhysicalDiskStatusInformationTranslationTable(2)="Rebuilding"
PhysicalDiskStatusInformationTranslationTable(3)=""
PhysicalDiskStatusInformationTranslationTable(4)="Installation Abort"
PhysicalDiskStatusInformationTranslationTable(5)=""
PhysicalDiskStatusInformationTranslationTable(6)="Not present"
PhysicalDiskStatusInformationTranslationTable(16)="Hot spare"
PhysicalDiskStatusInformationTranslationTable(130)="Rebuild Cancelled"
PhysicalDiskStatusInformationTranslationTable(Default)="Unknown Status"


// LOGICAL DISKS

//
// Discovery

// Source(1) = eLogicalDriveInformation SNMP table
LogicalDisk.Discovery.Source(1).Type="SnmpTable"
LogicalDisk.Discovery.Source(1).SnmpTableOid="1.3.6.1.4.1.1608.1.1.1.3.1"
LogicalDisk.Discovery.Source(1).SnmpTableSelectColumns="ID,1,3,4,6"
LogicalDisk.Discovery.Source(1).Compute(1).Type="ExcludeMatchingLines"
LogicalDisk.Discovery.Source(1).Compute(1).Column="3"
LogicalDisk.Discovery.Source(1).Compute(1).ValueList="128"
LogicalDisk.Discovery.Source(1).Compute(2).Type="Multiply"
LogicalDisk.Discovery.Source(1).Compute(2).Column="5"
LogicalDisk.Discovery.Source(1).Compute(2).MultiplyBy="1048576"

// Instance Table
LogicalDisk.Discovery.InstanceTable=%LogicalDisk.Discovery.Source(1)%
LogicalDisk.Discovery.Instance.DeviceID=InstanceTable.Column(1)
LogicalDisk.Discovery.Instance.Size=InstanceTable.Column(5)
LogicalDisk.Discovery.Instance.RaidLevel=InstanceTable.Column(4)
LogicalDisk.Discovery.Instance.ControllerNumber=InstanceTable.Column(2)

//
// Collect

// Collect type: MonoInstance
LogicalDisk.Collect.Type="MonoInstance"

// Source(1) = the a3OperationalState column of the eLogicalDriveInformation SNMP table
LogicalDisk.Collect.Source(1).Type="SnmpGet"
LogicalDisk.Collect.Source(1).SnmpOid="1.3.6.1.4.1.1608.1.1.1.3.1.3.%LogicalDisk.Collect.DeviceID%"
LogicalDisk.Collect.Source(1).Compute(1).Type="DuplicateColumn"
LogicalDisk.Collect.Source(1).Compute(1).Column="1"
LogicalDisk.Collect.Source(1).Compute(2).Type="DuplicateColumn"
LogicalDisk.Collect.Source(1).Compute(2).Column="1"

// translate the a3OperationalState into a PATROL status
LogicalDisk.Collect.Source(1).Compute(3).Type="Translate"
LogicalDisk.Collect.Source(1).Compute(3).Column="2"
LogicalDisk.Collect.Source(1).Compute(3).TranslationTable="LogicalDiskStatusTranslationTable"

// translate the a3OperationalState into a more readable string
LogicalDisk.Collect.Source(1).Compute(4).Type="Translate"
LogicalDisk.Collect.Source(1).Compute(4).Column="3"
LogicalDisk.Collect.Source(1).Compute(4).TranslationTable="LogicalDiskStatusInformationTranslationTable"

// The value table
LogicalDisk.Collect.ValueTable=%LogicalDisk.Collect.Source(1)%
LogicalDisk.Collect.Status=ValueTable.Column(2)
LogicalDisk.Collect.StatusInformation=ValueTable.Column(3)

// The LogicalDiskStatusTranslationTable
LogicalDiskStatusTranslationTable(3)="OK"
LogicalDiskStatusTranslationTable(4)="WARN"
LogicalDiskStatusTranslationTable(128)="WARN"
LogicalDiskStatusTranslationTable(255)="ALARM"
LogicalDiskStatusTranslationTable(Default)="UNKNOWN"

// The LogicalDiskStatusInformationTranslationTable
LogicalDiskStatusInformationTranslationTable(3)=""
LogicalDiskStatusInformationTranslationTable(4)="Critical"
LogicalDiskStatusInformationTranslationTable(128)="Not present"
LogicalDiskStatusInformationTranslationTable(255)="Off-line"
LogicalDiskStatusInformationTranslationTable(Default)="Unknown Status"


// MYLEX CONTROLLER TRANSLATION TABLE

MylexControllerTranslationTable(1)="DAC960e"
MylexControllerTranslationTable(8)="DAC960m"
MylexControllerTranslationTable(16)="DAC960pd"
MylexControllerTranslationTable(17)="DAC960pl"
MylexControllerTranslationTable(18)="DAC960pdu"
MylexControllerTranslationTable(19)="DAC960pe"
MylexControllerTranslationTable(20)="DAC960pg"
MylexControllerTranslationTable(21)="DAC960pj"
MylexControllerTranslationTable(22)="DAC960ptl0"
MylexControllerTranslationTable(23)="DAC960pr"
MylexControllerTranslationTable(24)="DAC960prl"
MylexControllerTranslationTable(25)="DAC960pt"
MylexControllerTranslationTable(26)="DAC1164p"
MylexControllerTranslationTable(27)="DAC960ptl1"
MylexControllerTranslationTable(28)="ExtremeRaid2000"
MylexControllerTranslationTable(29)="ExtremeRaid3000"
MylexControllerTranslationTable(30)="AcceleRaid352"
MylexControllerTranslationTable(31)="AcceleRaid170"
MylexControllerTranslationTable(32)="AcceleRaid160"
MylexControllerTranslationTable(96)="DAC960s"
MylexControllerTranslationTable(97)="DAC960su"
MylexControllerTranslationTable(98)="DAC960sx"
MylexControllerTranslationTable(99)="DAC960sf"
MylexControllerTranslationTable(100)="DAC960ss"
MylexControllerTranslationTable(101)="DAC960fl"
MylexControllerTranslationTable(102)="DAC960ll"
MylexControllerTranslationTable(103)="DAC960ff"
MylexControllerTranslationTable(104)="FC Array"
MylexControllerTranslationTable(105)="DAC960mfl"
MylexControllerTranslationTable(106)="DAC960mff"
MylexControllerTranslationTable(107)="DAC960ffx"
MylexControllerTranslationTable(129)="BT-440"
MylexControllerTranslationTable(130)="BT-440c"
MylexControllerTranslationTable(131)="BT-445"
MylexControllerTranslationTable(132)="BT-445c"
MylexControllerTranslationTable(133)="BT-44xc"
MylexControllerTranslationTable(134)="BT-445s"
MylexControllerTranslationTable(136)="BT-640"
MylexControllerTranslationTable(137)="BT-640a"
MylexControllerTranslationTable(138)="BT-646"
MylexControllerTranslationTable(139)="BT-646d"
MylexControllerTranslationTable(140)="BT-646s"
MylexControllerTranslationTable(144)="BT-742"
MylexControllerTranslationTable(145)="BT-742a"
MylexControllerTranslationTable(146)="BT-747"
MylexControllerTranslationTable(147)="BT-747d"
MylexControllerTranslationTable(148)="BT-747s"
MylexControllerTranslationTable(149)="BT-74xc"
MylexControllerTranslationTable(150)="BT-757"
MylexControllerTranslationTable(151)="BT-757d"
MylexControllerTranslationTable(152)="BT-757s"
MylexControllerTranslationTable(153)="BT-757cd"
MylexControllerTranslationTable(154)="BT-75xc"
MylexControllerTranslationTable(155)="BT-747c"
MylexControllerTranslationTable(156)="BT-757c"
MylexControllerTranslationTable(160)="BT-540"
MylexControllerTranslationTable(161)="BT-540c"
MylexControllerTranslationTable(162)="BT-542"
MylexControllerTranslationTable(163)="BT-542b"
MylexControllerTranslationTable(164)="BT-542c"
MylexControllerTranslationTable(165)="BT-542d"
MylexControllerTranslationTable(166)="BT-545"
MylexControllerTranslationTable(167)="BT-545c"
MylexControllerTranslationTable(168)="BT-545s"
MylexControllerTranslationTable(169)="BT-54xc"
MylexControllerTranslationTable(176)="BT-946"
MylexControllerTranslationTable(177)="BT-946c"
MylexControllerTranslationTable(178)="BT-948"
MylexControllerTranslationTable(179)="BT-948c"
MylexControllerTranslationTable(180)="BT-956"
MylexControllerTranslationTable(181)="BT-956c"
MylexControllerTranslationTable(182)="BT-958"
MylexControllerTranslationTable(183)="BT-958c"
MylexControllerTranslationTable(184)="BT-958d"
MylexControllerTranslationTable(185)="BT-956cd"
MylexControllerTranslationTable(186)="BT-958cd"
MylexControllerTranslationTable(192)="BT930"
MylexControllerTranslationTable(193)="BT932"
MylexControllerTranslationTable(194)="BT950"
MylexControllerTranslationTable(195)="BT952"
MylexControllerTranslationTable(Default)=""

