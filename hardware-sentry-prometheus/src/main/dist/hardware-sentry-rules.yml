groups:
- name: Battery-Present
  rules:
  - alert: Battery-Present-critical
    expr: hw_battery_present == 0
    labels:
      severity: 'critical'

- name: Battery-Charge
  rules:
  - alert: Battery-Charge-critical
    expr: hw_battery_charge_ratio >= 0 AND hw_battery_charge_ratio < 0.3
    labels:
      severity: 'critical'
  - alert: Battery-Charge-warn
    expr: hw_battery_charge_ratio >= 0 AND hw_battery_charge_ratio <= 0.5
    labels:
      severity: 'warn'

- name: Battery-Status
  rules:
  - alert: Battery-Status-warn
    expr: hw_battery_status >= 1
    labels:
      severity: 'warn'
  - alert: Battery-Status-critical
    expr: hw_battery_status == 2
    labels:
      severity: 'critical'

- name: Blade-Present
  rules:
  - alert: Blade-Present-critical
    expr: hw_blade_present == 0
    labels:
      severity: 'critical'

- name: Blade-Status
  rules:
  - alert: Blade-Status-warn
    expr: hw_blade_status >= 1
    labels:
      severity: 'warn'
  - alert: Blade-Status-critical
    expr: hw_blade_status == 2
    labels:
      severity: 'critical'

- name: Connector-Status
  rules:
  - alert: Connector-Status-warn
    expr: hw_connector_status >= 1
    labels:
      severity: 'warn'
  - alert: Connector-Status-critical
    expr: hw_connector_status == 2
    labels:
      severity: 'critical'

- name: CPU-Present
  rules:
  - alert: CPU-Present-critical
    expr: hw_cpu_present == 0
    labels:
      severity: 'critical'

- name: CPU-Errors
  rules:
  - alert: CPU-Errors-warn
    expr: rate(hw_cpu_errors_total[1h]) >= hw_cpu_corrected_errors_warning
    labels:
      severity: 'warn'
  - alert: CPU-Errors-critical
    expr: rate(hw_cpu_errors_total[1h]) >= hw_cpu_corrected_errors_alarm
    labels:
      severity: 'critical'

- name: CPU-PredictedFailure
  rules:
  - alert: CPU-PredictedFailure-warn
    expr: hw_cpu_predicted_failure == 1
    labels:
      severity: 'warn'

- name: CPU-Status
  rules:
  - alert: CPU-Status-warn
    expr: hw_cpu_status >= 1
    labels:
      severity: 'warn'
  - alert: CPU-Status-critical
    expr: hw_cpu_status == 2
    labels:
      severity: 'critical'

- name: CPUCore-Present
  rules:
  - alert: CPUCore-Present-critical
    expr: hw_cpucore_present == 0
    labels:
      severity: 'critical'

- name: CPUCore-Status
  rules:
  - alert: CPUCore-Status-warn
    expr: hw_cpucore_status >= 1
    labels:
      severity: 'warn'
  - alert: CPUCore-Status-critical
    expr: hw_cpucore_status == 2
    labels:
      severity: 'critical'

- name: DiskController-Present
  rules:
  - alert: DiskController-Present-critical
    expr: hw_disk_controller_present == 0
    labels:
      severity: 'critical'

- name: DiskController-Controller-Status
  rules:
  - alert: DiskController-Controller-Status-warn
    expr: hw_disk_controller_controller_status >= 1
    labels:
      severity: 'warn'
  - alert: DiskController-ControllerStatus-critical
    expr: hw_disk_controller_controller_status == 2
    labels:
      severity: 'critical'

- name: DiskController-Battery-Status
  rules:
  - alert: DiskController-Battery-Status-warn
    expr: hw_disk_controller_battery_status >= 1
    labels:
      severity: 'warn'
  - alert: DiskController-Battery-Status-critical
    expr: hw_disk_controller_battery_status == 2
    labels:
      severity: 'critical'

- name: Enclosure-Present
  rules:
  - alert: Enclosure-Present-critical
    expr: hw_enclosure_present == 0
    labels:
      severity: 'critical'

- name: Enclosure-Status
  rules:
  - alert: Enclosure-Status-warn
    expr: hw_enclosure_status >= 1
    labels:
      severity: 'warn'
  - alert: Enclosure-Status-critical
    expr: hw_enclosure_status == 2
    labels:
      severity: 'critical'

- name: Fan-Present
  rules:
  - alert: Fan-Present-critical
    expr: hw_fan_present == 0
    labels:
      severity: 'critical'

- name: Fan-Speed
  rules:
  - alert: Fan-Speed-warn
    expr: ms_hw_fan_speed_rpm >= 0 AND ms_hw_fan_speed_rpm <= hw_fan_speed_rpm_warning
    labels:
      severity: 'warn'
  - alert: Fan-Speed-critical
    expr: ms_hw_fan_speed_rpm >= 0 AND ms_hw_fan_speed_rpm <= hw_fan_speed_rpm_alarm
    labels:
      severity: 'critical'

- name: Fan-Speed-Ratio
  rules:
  - alert: Fan-Speed-Ratio-warn
    expr: hw_fan_speed_ratio >= 0 AND hw_fan_speed_ratio <= hw_fan_speed_ratio_warning
    labels:
      severity: 'warn'
  - alert: Fan-Speed-Ratio-critical
    expr: hw_fan_speed_ratio >= 0 AND hw_fan_speed_ratio <= hw_fan_speed_ratio_alarm
    labels:
      severity: 'critical'

- name: Fan-Status
  rules:
  - alert: Fan-Status-warn
    expr: hw_fan_status >= 1
    labels:
      severity: 'warn'
  - alert: Fan-Status-critical
    expr: hw_fan_status == 2
    labels:
      severity: 'critical'

- name: LED-Color
  rules:
  - alert: LED-Color-warn
    expr: hw_led_color_status >= 1
    labels:
      severity: 'warn'
  - alert: LED-Color-critical
    expr: hw_led_color_status == 2
    labels:
      severity: 'critical'

- name: LED-Status
  rules:
  - alert: LED-Status-warn
    expr: hw_led_status >= 1
    labels:
      severity: 'warn'
  - alert: LED-Status-critical
    expr: hw_led_status == 2
    labels:
      severity: 'critical'

- name: LogicalDisk-Errors
  rules:
  - alert: LogicalDisk-Errors-warn
    expr: rate(hw_logical_disk_errors_total[1h]) >= hw_logical_disk_errors_warning
    labels:
      severity: 'warn'
  - alert: LogicalDisk-Errors-critical
    expr: rate(hw_logical_disk_errors_total[1h]) >= hw_logical_disk_errors_alarm
    labels:
      severity: 'critical'

- name: LogicalDisk-Status
  rules:
  - alert: LogicalDisk-Status-warn
    expr: hw_logical_disk_status >= 1
    labels:
      severity: 'warn'
  - alert: LogicalDisk-Status-critical
    expr: hw_logical_disk_status == 2
    labels:
      severity: 'critical'

- name: LUN-Status
  rules:
  - alert: LUN-Status-warn
    expr: hw_lun_status >= 1
    labels:
      severity: 'warn'
  - alert: LUN-Status-critical
    expr: hw_lun_status == 2
    labels:
      severity: 'critical'

- name: LUN-AvailablePaths
  rules:
  - alert: LUN-AvailablePaths-warn
    expr: hw_lun_available_paths >= 0 AND hw_lun_available_paths <= hw_lun_available_paths_warning
    labels:
      severity: 'warn'

- name: Memory-Present
  rules:
  - alert: Memory-Present-critical
    expr: hw_memory_present == 0
    labels:
      severity: 'critical'

- name: Memory-ErrorStatus
  rules:
  - alert: Memory-ErrorStatus-warn
    expr: hw_memory_error_status >= 1
    labels:
      severity: 'warn'
  - alert: Memory-ErrorStatus-critical
    expr: hw_memory_error_status == 2
    labels:
      severity: 'critical'

- name: Memory-Errors
  rules:
  - alert: Memory-Errors-warn
    expr: rate(hw_memory_errors_total[1h]) >= hw_memory_errors_warning
    labels:
      severity: 'warn'
  - alert: Memory-Errors-critical
    expr: rate(hw_memory_errors_total[1h]) >= hw_memory_errors_alarm
    labels:
      severity: 'critical'

- name: Memory-PredictedFailure
  rules:
  - alert: Memory-PredictedFailure-warn
    expr: hw_memory_predicted_failure == 1
    labels:
      severity: 'warn'

- name: Memory-Status
  rules:
  - alert: Memory-Status-warn
    expr: hw_memory_status >= 1
    labels:
      severity: 'warn'
  - alert: Memory-Status-critical
    expr: hw_memory_status == 2
    labels:
      severity: 'critical'

- name: NetworkCard-Present
  rules:
  - alert: Network-Present-critical
    expr: hw_network_card_present == 0
    labels:
      severity: 'critical'

- name: NetworkCard-ErrorRatio
  rules:
  - alert: NetworkCard-ErrorRatio-warn
    expr: hw_network_card_error_ratio >= hw_network_card_error_ratio_warning
    labels:
      severity: 'warn'
  - alert: NetworkCard-ErrorRatio-critical
    expr: hw_network_card_error_ratio >= hw_network_card_error_ratio_alarm
    labels:
      severity: 'critical'

- name: NetworkCard-Status
  rules:
  - alert: NetworkCard-Status-warn
    expr: hw_network_card_status >= 1
    labels:
      severity: 'warn'
  - alert: NetworkCard-Status-critical
    expr: hw_network_card_status == 2
    labels:
      severity: 'critical'

- name: OtherDevice-Present
  rules:
  - alert: OtherDevice-Present-critical
    expr: hw_other_device_present == 0
    labels:
      severity: 'critical'

- name: OtherDevice-Status
  rules:
  - alert: OtherDevice-Status-warn
    expr: hw_other_device_status >= 1
    labels:
      severity: 'warn'
  - alert: OtherDevice-Status-critical
    expr: hw_other_device_status == 2
    labels:
      severity: 'critical'

- name: OtherDevice-UsageCount
  rules:
  - alert: OtherDevice-UsageCount-warn
    expr: hw_other_device_usage_times >= hw_other_device_usage_times_warning
    labels:
      severity: 'warn'
  - alert: OtherDevice-UsageCount-critical
    expr: hw_other_device_usage_times >= hw_other_device_usage_times_alarm
    labels:
      severity: 'critical'

- name: OtherDevice-Value
  rules:
  - alert: OtherDevice-Value-warn
    expr:  hw_other_device_value >= hw_other_device_value_warning
    labels:
      severity: 'warn'
  - alert: OtherDevice-Value-critical
    expr:  hw_other_device_value >= hw_other_device_value_alarm
    labels:
      severity: 'critical'

- name: PhysicalDisk-EnduranceRemaining
  rules:
  - alert: PhysicalDisk-EnduranceRemaining-critical
    expr: hw_physical_disk_endurance_remaining >= 0 AND hw_physical_disk_endurance_remaining < 2
    labels:
      severity: 'critical'
  - alert: PhysicalDisk-EnduranceRemaining-warn
    expr: hw_physical_disk_endurance_remaining >= 0 AND hw_physical_disk_endurance_remaining <= 5
    labels:
      severity: 'warn'

- name: PhysicalDisk-Present
  rules:
  - alert: PhysicalDisk-Present-critical
    expr: hw_physical_disk_present == 0
    labels:
      severity: 'critical'

- name: PhysicalDisk-Errors
  rules:
  - alert: PhysicalDisk-Errors-warn
    expr: rate(hw_physical_disk_errors_total[1h]) >= hw_physical_disk_errors_warning
    labels:
      severity: 'warn'
  - alert: PhysicalDisk-Errors-critical
    expr: rate(hw_physical_disk_errors_total[1h]) >= hw_physical_disk_errors_alarm
    labels:
      severity: 'critical'

- name: PhysicalDisk-PredictedFailure
  rules:
  - alert: PhysicalDisk-PredictedFailure-warn
    expr: hw_physical_disk_predicted_failure == 1
    labels:
      severity: 'warn'

- name: PhysicalDisk-Status
  rules:
  - alert: PhysicalDisk-Status-warn
    expr: hw_physical_disk_status >= 1
    labels:
      severity: 'warn'
  - alert: PhysicalDisk-Status-critical
    expr: hw_physical_disk_status == 2
    labels:
      severity: 'critical'

- name: PowerSupply-Present
  rules:
  - alert: PowerSupply-Present-critical
    expr: hw_power_supply_present == 0
    labels:
      severity: 'critical'

- name: PowerSupply-UsedCapacity
  rules:
  - alert: PowerSupply-UsedCapacity-warn
    expr: hw_power_supply_used_capacity_ratio >= 0.9 AND hw_power_supply_used_capacity_ratio <= 1
    labels:
      severity: 'warn'
  - alert: PowerSupply-UsedCapacity-critical
    expr: hw_power_supply_used_capacity_ratio >= 0.99 AND hw_power_supply_used_capacity_ratio <= 1
    labels:
      severity: 'critical'

- name: PowerSupply-Status
  rules:
  - alert: PowerSupply-Status-warn
    expr: hw_power_supply_status >= 1
    labels:
      severity: 'warn'
  - alert: PowerSupply-Status-critical
    expr: hw_power_supply_status == 2
    labels:
      severity: 'critical'

- name: Robotics-Present
  rules:
  - alert: Robotics-Present-critical
    expr: hw_robotics_present == 0
    labels:
      severity: 'critical'

- name: Robotics-Errors
  rules:
  - alert: Robotics-Errors-warn
    expr: rate(hw_robotics_errors_total[1h]) >= hw_robotics_errors_warning
    labels:
      severity: 'warn'
  - alert: Robotics-Errors-critical
    expr: rate(hw_robotics_errors_total[1h]) >= hw_robotics_errors_alarm
    labels:
      severity: 'critical'

- name: Robotics-Status
  rules:
  - alert: Robotics-Status-warn
    expr: hw_robotics_status >= 1
    labels:
      severity: 'warn'
  - alert: Robotics-Status-critical
    expr: hw_robotics_status == 2
    labels:
      severity: 'critical'

- name: Tapedrive-Present
  rules:
  - alert: Tapedrive-Present-critical
    expr: hw_tape_drive_present == 0
    labels:
      severity: 'critical'

- name: Tapedrive-Errors
  rules:
  - alert: Tapedrive-Errors-warn
    expr: rate(hw_tape_drive_errors_total[1h]) >= hw_tape_drive_errors_warning
    labels:
      severity: 'warn'
  - alert: Tapedrive-Errors-critical
    expr: rate(hw_tape_drive_errors_total[1h]) >= hw_tape_drive_errors_alarm
    labels:
      severity: 'critical'

- name: Tapedrive-NeedsCleaning
  rules:
  - alert: Tapedrive-NeedsCleaning-warn
    expr: hw_tape_drive_needs_cleaning >= 1
    labels:
      severity: 'warn'
  - alert: Tapedrive-NeedsCleaning-critical
    expr: hw_tape_drive_needs_cleaning == 2
    labels:
      severity: 'critical'

- name: Tapedrive-Status
  rules:
  - alert: Tapedrive-Status-warn
    expr: hw_tape_drive_status >= 1
    labels:
      severity: 'warn'
  - alert: Tapedrive-Status-critical
    expr: hw_tape_drive_status == 2
    labels:
      severity: 'critical'

- name: Temperature-Status
  rules:
  - alert: Temperature-Status-warn
    expr: hw_temperature_status >= 1
    labels:
      severity: 'warn'
  - alert: Temperature-Status-critical
    expr: hw_temperature_status == 2
    labels:
      severity: 'critical'

- name: Temperature-Temperature
  rules:
  - alert: Temperature-Temperature-warn
    expr:  hw_temperature_celsius >= hw_temperature_celsius_warning
    labels:
      severity: 'warn'
  - alert: Temperature-Temperature-critical
    expr:  hw_temperature_celsius >= hw_temperature_celsius_alarm
    labels:
      severity: 'critical'

- name: Voltage-Status
  rules:
  - alert: Voltage-Status-warn
    expr: hw_voltage_status >= 1
    labels:
      severity: 'warn'
  - alert: Voltage-Status-critical
    expr: hw_voltage_status == 2
    labels:
      severity: 'critical'

- name: Voltage-Voltage
  rules:
  - alert: Voltage-Voltage-warn
    expr:  hw_voltage_volts >= hw_voltage_volts_lower
    labels:
      severity: 'warn'
  - alert: Voltage-Voltage-critical
    expr:  hw_voltage_volts >= hw_voltage_volts_upper
    labels:
      severity: 'critical'
