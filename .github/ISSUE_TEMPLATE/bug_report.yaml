name: Bug report
description: Create a report to help us improve
labels: ["bug", "needs_triage"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! We appreciate your help in making MetricsHub better.

        Before filing a bug, please be sure you have searched through [existing bugs](https://github.com/MetricsHub/metricshub-community/issues?q=is%3Aissue%20state%3Aopen%20label%3Abug) to see if an existing issue covers your bug.
  - type: dropdown
    id: component
    attributes:
      label: Component(s)
      description: Which component(s) does your bug report concern?
      multiple: true
      options:
      # NOTE: The list below is autogenerated using `make generate-gh-issue-templates`
      # Do not manually edit it.
      # Start components list
      - /
      - metricshub-engine
      - metricshub-agent
      - metricshub-classloader-agent
      - metricshub-ipmi-extension
      - metricshub-oscommand-extension
      - metricshub-snmp-extension-common
      - metricshub-snmp-extension
      - metricshub-snmpv3-extension
      - metricshub-internaldb-extension
      - metricshub-win-extension-common
      - metricshub-wmi-extension
      - metricshub-winrm-extension
      - metricshub-wbem-extension
      - metricshub-ping-extension
      - metricshub-jawk-extension
      - metricshub-jdbc-extension
      - metricshub-jmx-extension
      - metricshub-hardware
      - metricshub-yaml-configuration-extension
      - metricshub-it-common
      - metricshub-community-windows
      - metricshub-community-linux
      - metricshub-doc
      # End components list
  - type: textarea
    attributes:
      label: What happened?
      description: Please provide as much detail as you reasonably can.
      value: |
        ## Description

        ## Steps to Reproduce

        ## Expected Result

        ## Actual Result

    validations:
      required: true
  - type: input
    attributes:
      label: MetricsHub version
      description: What version did you use? (e.g., MetricsHub Enterprise v2.1.00, MetricsHub Community v1.0.04, etc)
    validations:
      required: true
  - type: textarea
    attributes:
      label: Environment information
      description: Please provide any additional information about your installation.
      value: |
        ## Environment
        OS: (e.g., "Ubuntu 20.04")

  - type: textarea
    attributes:
      label: MetricsHub Agent confgiuration
      description: Please provide the configuration you are using (e.g. the YAML config file).
      placeholder: | # Empty Agent config
        # Default logger level
        loggerLevel: error

        # Internal collect interval
        collectPeriod: 1m

        # Internal OTLP Exporter configuration
        otel:
          # MetricsHub Default configuration
          otel.exporter.otlp.metrics.endpoint: https://localhost:4317
          otel.exporter.otlp.metrics.protocol: grpc
          otel.exporter.otlp.metrics.headers: ************

        # Simple resource configuration
        resources:
          #═══════════════════════════════════════════════════
          # SNMP v1 protocol configuration
          #═══════════════════════════════════════════════════

          # server-01:
          #   attributes:
          #     host.name: server-01
          #     host.type: linux
          #   protocols:
          #     snmp:
          #       version: v1
          #       community: public
          #       port: 161
          #       timeout: 120

        # Resource Groups configuration
        resourceGroups:

          # Resource Group identifier
          MetricsHub-Paris:

            # Adds additional static attributes to all the resources in the group
            attributes:
              site: MetricsHub-Paris
            metrics:
              hw.site.carbon_intensity: 230 # in g/kWh
              hw.site.electricity_cost: 0.12 # in $/kWh
              hw.site.pue: 1.8

            # Some resource templates can be found below:
            resources:

              # server-01:
              #   attributes:
              #     host.name: server-01
              #     host.type: linux
              #   protocols:
              #     snmp:
              #       version: v1
              #       community: public
              #       port: 161
              #       timeout: 120

  - type: textarea
    attributes:
      label: OpenTelemetry Collector configuration
      description: Please provide the configuration you are using (e.g. the YAML config file).
      placeholder: | # Empty Collector config
        receivers:
        exporters:
        processors:
        extensions:
        service:
          pipelines:
            traces:
              receivers: []
              exporters: []
              processors: []
            metrics:
              receivers: []
              exporters: []
              processors: []
            logs:
              receivers: []
              exporters: []
              processors: []

      render: yaml
  - type: textarea
    attributes:
      label: Log output
      description: |
        Please copy and paste any relevant log output.
      render: shell
  - type: textarea
    attributes:
      label: Additional context
      description: Any additional information you think may be relevant to this issue.
